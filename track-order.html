<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Track Order - Elegant Women Fashion</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0; padding: 0;
       background: linear-gradient(135deg, #fceaff, #e0f7ff); 
      color: #222;
    }

   
    .navbar { display: flex; justify-content: space-between; align-items: center; padding: 20px 60px; background: #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.1); position: relative; z-index: 10; }
    .navbar .logo { font-weight: 700; font-size: 1.8em; color: #d95d89; }
    .navbar nav ul { display: flex; gap: 25px; list-style: none; margin: 0; padding: 0; }
    .navbar nav ul li a { text-decoration: none; color: #222; font-weight: 600; transition: color 0.3s; }
    .navbar nav ul li a:hover, .navbar nav ul li a.active { color: #d95d89; font-weight: 600; }

    /* Track container */
    .track-container {
      max-width: 900px;
      margin: 50px auto;
      padding: 0 20px;
    }
    .track-container h1 {
      font-size: 2.5em;
      font-weight: 700;
      text-align: center;
      margin-bottom: 40px;
      color: #d95d89;
      text-shadow: 1px 1px 5px rgba(0,0,0,0.1);
    }

    /* Form */
    .track-form {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.05);
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .track-form input {
      padding: 15px;
      width: 70%;
      border: none;
      border-radius: 15px;
      box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
      font-size: 1em;
      outline: none;
      transition: all 0.3s;
    }
    .track-form input:focus { box-shadow: inset 0 2px 8px rgba(217,93,137,0.3); }
    .track-form button {
      padding: 15px 30px;
      background: #d95d89;
      color: #fff;
      font-weight: 600;
      border: none;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 5px 15px rgba(217,93,137,0.3);
    }
    .track-form button:hover {
      background: #c14a74;
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(217,93,137,0.4);
    }

    /* Tracking Details */
    .tracking-details {
      margin-top: 30px;
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.05);
    }
    .tracking-details h3 { margin-top: 0; color: #d95d89; }
    .tracking-details p { margin: 5px 0; color: #555; }

    /* Timeline */
    .tracking-status {
      margin: 30px 0;
      position: relative;
      padding-left: 30px;
    }
    .tracking-status::before {
      content: "";
      position: absolute;
      left: 7px;
      top: 0;
      bottom: 0;
      width: 3px;
      background: #ddd;
      border-radius: 2px;
    }
    .status-item {
      position: relative;
      padding: 15px 20px;
      margin-bottom: 30px;
      border-radius: 15px;
      background: rgba(255,255,255,0.6);
      box-shadow: 0 5px 10px rgba(0,0,0,0.05);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .status-item::before {
      content: "";
      position: absolute;
      left: -23px;
      top: 50%;
      transform: translateY(-50%);
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #ccc;
      border: 3px solid #fff;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    .status-item.completed::before { background: #28a745; }
    .status-item.in-progress::before { background: #ffc107; }
    .status-item.completed { color: #28a745; font-weight: 600; }
    .status-item.in-progress { color: #856404; font-weight: 500; }

    /* Dialog */
    .dialog-overlay {
      display: none;
      position: fixed;
      top:0; left:0; width:100%; height:100%;
      background: rgba(0,0,0,0.5);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }
    .dialog-box {
      background: #fff;
      border-radius: 20px;
      padding: 30px;
      max-width: 400px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      animation: dialogFadeIn 0.3s ease;
    }
    .dialog-box p { margin: 0 0 20px; font-size: 1em; color: #222; }
    .dialog-btn {
      padding: 12px 25px;
      background: #d95d89;
      color: #fff;
      border: none;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.3s;
    }
    .dialog-btn:hover { background: #c14a74; }
    @keyframes dialogFadeIn { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }

    /* Footer */
    footer {
      text-align: center;
      padding: 20px;
      background: rgba(255,255,255,0.9);
      backdrop-filter: blur(10px);
      box-shadow: 0 -5px 15px rgba(0,0,0,0.05);
      border-radius: 20px 20px 0 0;
    }
    footer .socials a { color: #d95d89; text-decoration: none; margin: 0 10px; transition: color 0.3s; }
    footer .socials a:hover { color: #c14a74; }
  </style>
</head>
<body>
  <header class="navbar">
    <div class="logo">Elegant Fashion</div>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="shop.html" class="active">Shop</a></li>
        <li><a href="about.html">About Us</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </header>

  <div class="track-container">
    <h1>Track Your Order</h1>
    <div class="track-form">
      <input type="text" id="order-id" placeholder="Enter Order ID (e.g., ORD123456789)">
      <button id="track-btn">Track Order</button>
    </div>
    <div class="tracking-details" id="tracking-details"></div>
  </div>

  <div class="dialog-overlay" id="dialog-overlay">
    <div class="dialog-box">
      <p id="dialog-message"></p>
      <button class="dialog-btn" id="dialog-btn">OK</button>
    </div>
  </div>

  <footer>
    <div class="footer-content">
      <p>&copy; 2025 Elegant Fashion. All rights reserved.</p>
      <div class="socials">
        <a href="#">Instagram</a> |
        <a href="#">Facebook</a> |
        <a href="#">Twitter</a>
      </div>
    </div>
  </footer>

  <script>
    const orderIdInput = document.getElementById('order-id');
    const trackBtn = document.getElementById('track-btn');
    const trackingDetailsDiv = document.getElementById('tracking-details');

    function showDialog(message) {
      const dialogOverlay = document.getElementById('dialog-overlay');
      const dialogMessage = document.getElementById('dialog-message');
      const dialogBtn = document.getElementById('dialog-btn');
      dialogMessage.textContent = message;
      dialogOverlay.style.display = 'flex';
      dialogBtn.focus();
      return new Promise(resolve => {
        dialogBtn.onclick = () => {
          dialogOverlay.style.display = 'none';
          resolve();
        };
      });
    }

    function getTrackingProgress(order) {
      const now = new Date();
      const orderDate = new Date(order.date);
      const daysSinceOrder = Math.floor((now - orderDate)/(1000*60*60*24));
      const statuses = [
        { status: 'Order Placed', date: order.date },
        { status: 'Processing', date: new Date(orderDate.getTime()+24*60*60*1000).toISOString() },
        { status: 'Shipped', date: new Date(orderDate.getTime()+2*24*60*60*1000).toISOString() },
        { status: 'Delivered', date: new Date(orderDate.getTime()+(order.shipping.method==='standard'?5:2)*24*60*60*1000).toISOString() }
      ];
      return statuses.filter((_, idx) => idx <= Math.min(daysSinceOrder, statuses.length-1));
    }

    function renderTrackingDetails(orderId) {
      const orders = JSON.parse(localStorage.getItem('orders') || '[]');
      const order = orders.find(o => o.id===orderId);
      if(!order){
        trackingDetailsDiv.innerHTML = '<p>Order not found. Please check the Order ID.</p>';
        return;
      }
      const tracking = getTrackingProgress(order);
      trackingDetailsDiv.innerHTML = `
        <h3>Order ${order.id}</h3>
        <p>Status: ${order.status}</p>
        <p>Shipping: ${order.shipping.name}, ${order.shipping.address}, ${order.shipping.city}, ${order.shipping.zip}</p>
        <p>Method: ${order.shipping.method==='standard'? 'Standard (5-7 days)': 'Express (2-3 days)'}</p>
        <div class="tracking-status">
          ${tracking.map(item => `
            <div class="status-item ${new Date(item.date)<=new Date()? 'completed': 'in-progress'}">
              <span>${item.status}</span>
              <span>${new Date(item.date).toLocaleDateString()}</span>
            </div>
          `).join('')}
        </div>
      `;
      order.status = tracking[tracking.length-1].status;
      localStorage.setItem('orders', JSON.stringify(orders));
    }

    trackBtn.addEventListener('click', async () => {
      const orderId = orderIdInput.value.trim().toUpperCase();
      if(!orderId) { await showDialog('Please enter an Order ID.'); return; }
      renderTrackingDetails(orderId);
    });

    const preloadedOrderId = localStorage.getItem('trackOrderId');
    if(preloadedOrderId) {
      orderIdInput.value = preloadedOrderId;
      renderTrackingDetails(preloadedOrderId);
      localStorage.removeItem('trackOrderId');
    }
  </script>
</body>
</html>
